<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="指令"><meta name="keywords" content=""><meta name="author" content="KuangKuangKuang"><meta name="copyright" content="KuangKuangKuang"><title>指令 | KuangKuangKuangha's Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="KuangKuangKuangha's Blog" type="application/atom+xml">
</head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">指令系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%EF%BC%9A"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">指令：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F%EF%BC%88%E6%8C%87%E4%BB%A4%E9%9B%86%EF%BC%89%EF%BC%9A"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">指令系统（指令集）：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">指令格式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">指令基本格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E9%95%BF%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">等长指令格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CISC%E5%92%8CRISC%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.</span> <span class="toc-text">CISC和RISC的基本概念</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://pic2.zhimg.com/80/v2-688869417b966ed28a54b98dc5567dd7_1440w.jpg"></div><div class="author-info__name text-center">KuangKuangKuang</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/kuangkuangkuangha">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">5</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">3</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">2</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://pic2.zhimg.com/80/v2-e0bf3baafde0f5ecac8aba0044cb967f_1440w.jpg?source=1940ef5c)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">KuangKuangKuangha's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">指令</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-10-26</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="指令系统概述"><a href="#指令系统概述" class="headerlink" title="指令系统概述"></a>指令系统概述</h2><h5 id="指令："><a href="#指令：" class="headerlink" title="指令："></a>指令：</h5><p>· 计算机能直接识别、执行的操作命令（机器指令）<br>· 是冯诺依曼结构计算机“程序控制”原理实现的载体<br>· 是软、硬件界面和程序员操作计算机硬件的接口<br>· 是硬件设计的依据，是软件设计的基础，直接影响计算机系统的性能</p>
<h5 id="指令系统（指令集）："><a href="#指令系统（指令集）：" class="headerlink" title="指令系统（指令集）："></a>指令系统（指令集）：</h5><p>一台计算机中所有机器指令的集合</p>
<p>· 系列机：同一公司不同时期生产，系统结构和指令系统基本相同的计算机（向下兼容性）<br>· 兼容机：不同公司生产，系统结构和指令系统基本相同的计算机<br>指令字长：</p>
<p>指令中包含的二进制位数<br>决定于操作码的长度、操作数地址的长度、操作数的个数<br>与机器字长相比可分为：单字长指令、双字长指令、半字长指令等长度指令<br>多字长指令：解决寻址较大存储空间的问题（扩展指令长度），但取指令的访存次数较多，影响速度，占用空间大<br>等长指令：指令字长度固定，对硬件的设计简化有利<br>变长指令：指令字长度根据需要可变<br>指令分类：</p>
<p>根据计算机层次结构分类</p>
<p>根据指令中地址码字段的个数分类</p>
<p>根据指令中操作数的物理位置分类<br>根据指令的功能分类</p>
<p>指令的存储： 大端模式与小端模式（详细见本栏文章《存储器层次结构总结——基本知识要点汇总》大端和小端数据存放方式部分）</p>
<h2 id="指令格式"><a href="#指令格式" class="headerlink" title="指令格式"></a>指令格式</h2><h3 id="指令基本格式"><a href="#指令基本格式" class="headerlink" title="指令基本格式"></a>指令基本格式</h3><p>操作码：指出指令所进行的操作</p>
<p>地址码：表示参加运算的数据应从存储器的哪个单元取，运算的结果应存到哪个单元</p>
<p>操作码字段的位数与支持的最大指令数量有关<br>寻址方式字段的位数与支持的寻址方式种类有关<br>地址码字段的作用及影响与其位数和寻址方式有关<br>在指令系统中若所有指令的长度相同，则称为等长指令；相应的如果指令系统中指令的长度不相同，则称为变长（不等长）指令</p>
<p>等长指令方便设计；不等长指令节约存储空间</p>
<h4 id="等长指令格式"><a href="#等长指令格式" class="headerlink" title="等长指令格式"></a>等长指令格式</h4><p>优点： 定长指令结构规整，有利于简化硬件，尤其是指令译码部件的设计</p>
<p>不足： 定长指令平均长度长，容易出现冗余码点和指令不易扩展等不足</p>
<p>在等长指令系统中，指令可以采用固定长度的操作码（即定长操作码），也可以采用长度不固定的操作码（即扩展/变长操作码）</p>
<p>定长操作码指令格式</p>
<p>假定操作码占m位，则最多表示2m个不同指令</p>
<p>扩展（变长）操作码指令格式<br>定长指令中将操作码位数扩展至操作数地址码字段（即将用不到的地址码位数并入到操作码中用作操作码），或将操作数位数向前扩展至操作码字段（即将操作码左移，将操作码用不到的位数并入到操作数地址码中用作地址码）</p>
<p>变长指令格式<br>各种指令字的长度随指令功能的不同而不同，如指令可分为单字长指令、半字长指令或多字长指令</p>
<p>优点： 变长指令结构灵活，能充分利用指令中的每一位，因此指令码点冗余少，指令的平均长度短，易于扩展</p>
<p>不足： 但由于格式不规整，不同指令的取指事件可能不同，导致控制复杂</p>
<p>混合编码指令格式<br>混合编码指令格式是定长指令格式和变长指令结构的综合，它提供若干长度固定的指令字，以期达到既能减少目标代码的长度又能降低译码复杂度的目标</p>
<p>指令和操作数的寻址方式<br>基本概念：</p>
<p>寻址方式：确定本条指令的操作数地址或下一条要执行指令的指令地址，直到程序结束<br>寻址方式的划分：指令寻址、操作数寻址（即指令中数据的寻址）<br>程序计数器PC：用于存放下一条指令所在单元的地址。ARM型CPU中为程序计数器PC，X86型CPU中为指令指针寄存器IP，用于控制程序中指令的执行顺序<br>指令寻址<br>顺序寻址<br>指令在内存中是顺序存放，当执行一段程序时，通常是一条指令接一条指令地顺序执行。程序计数器PC（指令指针寄存器IP）每执行一条指令，PC+1（“1”指存储1条指令所占用的字节单元数，和编址方式有关），指向下一条欲执行指令的指令地址，这种程序顺序执行的过程称为指令的顺序寻址</p>
<p>跳跃寻址<br>当程序执行循环指令或转移指令等指令时，指令的寻址采用跳跃寻址方式，即下一条指令的地址不是由程序计数器PC+1产生，而是将本条指令给出的目标地址直接装入PC给出</p>
<p>操作数寻址（数据寻址）<br>基本概念：</p>
<p>形式地址：指令字中的地址<br>有效地址：操作数的真实内存地址<br>地址码字段通常为形式地址，形式地址与有效地址间需要进行转换，寻址过程就是把操作数的形式地址根据寻址方式转换为操作数的有效地址的过程，寻址方式由寻址特征位标识</p>
<p>立即寻址（立即数寻址）<br>形式地址就是操作数，一般以补码形式进行表示<br>取指操作将数据与指令一并读入CPU内部的寄存器，即只取指令访存一次，执行阶段不访存<br>优点：数据直接送给CPU，因此在指令执行阶段不访存，取指操作将数据与指令一并读入CPU内部的寄存器，指令执行速度快，便于程序设计（如变量赋初值）<br>缺点：形式地址的位数限制的立即数的范围<br>一般为双字长指令<br>直接寻址（直接内存寻址）<br>形式地址就是有效地址<br>以一地址指令为例</p>
<p>执行过程为直接利用有效地址访问对应内存，从内存单元中将操作数取出并对其完成操作码的操作，之后送到寄存器，即执行阶段需要访存一次<br>优点：操作数地址直接给出不需要变换，实现简单<br>缺点：形式地址的位数决定了该指令操作数的寻址范围，且操作数的地址不易修改<br>通常为双字长指令<br>间接寻址<br>通过地址码字段中的形式地址访问主存一次，获得有效地址，再基于有效地址进行二次访问内存，才能获得操作数（以速率换访存范围），即执行阶段最少访问主存两次，也可能进行多次间址<br>优点：可扩大寻址范围，便于编制程序<br>缺点：多次访问主存，访问速率过慢<br>寄存器寻址<br>操作数不放在内存中，而是放在CPU的通用寄存器中，指令中给出的操作数地址是通用寄存器的编号<br>优点：操作数在寄存器中，指令执行速度快；能访问的数据大小一般与计算机字长有关，不受形式地址的限制<br>寄存器间接寻址<br>地址码在字段给出的是寄存器编号，通过地址码字段中的形式地址访问寄存器一次，获得有效地址，再基于有效地址访问内存获得操作数（解决间接寻址两次访问主存速度慢的问题）<br>便于编制循环程序<br>【立即数寻址、直接内存寻址、寄存器寻址、寄存器间接寻址为最基本的四种指令数据寻址方式（即每种计算机均包含）】</p>
<p>计算机中指令等数据均以二进制进行表示，为了方便程序员使用和编写，可使用指令助记符进行标识，例如移动指令的助记符可为MOV。使用指令助记符进行一项指令功能完整的标识，即为一条指令</p>
<p>以x86架构指令系统为例，部分汇编指令如下：</p>
<p>汇编指令相关内容以及x86架构CPU寄存器等相关内容详细见桐小白《微机原理与接口技术》专栏文章《汇编语言程序设计初步——debug编写调试指令序列》</p>
<p>隐含寻址<br>寻址方式隐含在操作码中或者操作数地址隐含在操作码中<br>偏移寻址<br>相对寻址： 把程序计数器PC的内容加上指令格式中的形式地址形成操作数的有效地址。程序计数器的内容就是当前指令的地址，形式地址通常称为偏移量（可正可负，补码形式给出）。相对寻址，就是相对于当前的指令地址进行浮动</p>
<p>形式地址的位数决定操作数的寻址范围<br>广泛用于转移指令<br>程序员无需用指令的绝对地址编程<br>基址寻址方式： 将CPU中基址寄存器的内容加上指令格式中的形式地址形成操作数的有效地址</p>
<p>基址寄存器可采用CPU内的一个专用寄存器作为基址寄存器，位数可比通用寄存器的位数还大，从而可以在较大的存储空间中寻址。也可以用通用寄存器作为基址寄存器，用户可指定哪个通用寄存器作基址寄存器<br>有利于多道程序设计（动态定位）<br>对某一程序而言，基址值一旦设定（由操作系统或管理程序指定），在程序的执行过程中将不会改变，因此访问不同数据需修改形式地址<br>变址寻址方式： 将CPU中某个变址寄存器的内容与形式地址相加形成操作数有效地址，变址寄存器同样可以是CPU中的专用寄存器或者通用寄存器</p>
<p>不改变指令即可改变数据的有效地址，即变址寄存器的内容由用户给出、可变，指令的形式地址不变<br>便于处理数组、循环等程序的规律性变化问题<br>堆栈寻址方式<br>先进后出的存储方法。计算机中堆栈分为串连堆栈、存储器堆栈<br>串连堆栈：一些计算机的CPU中有一组专门的寄存器，每个寄存器能保存一个字的数据，由专用的寄存器组构成堆栈的存储空间称为串连堆栈（硬堆栈）<br>存储器堆栈：在计算机中利用一部分主存储器来作为堆栈空间。存储器类型的堆栈中需要一个堆栈指示器SP（CPU中一个专用的寄存器），指示器指定的存储器单元就是堆栈的栈顶（软堆栈）<br>是一个由高地址向低地址延伸的空间<br>能够具有程序员要求的任意长度<br>存储器堆栈的数目由程序员自己决定<br>可以用对存储器寻址的任何一条指令来对堆栈中的数据进行寻址<br>以x86架构指令系统为例，部分汇编指令如下：</p>
<p>汇编指令相关内容以及x86架构CPU寄存器等相关内容详细见桐小白《微机原理与接口技术》专栏文章《汇编语言程序设计初步——debug编写调试指令序列》</p>
<h2 id="CISC和RISC的基本概念"><a href="#CISC和RISC的基本概念" class="headerlink" title="CISC和RISC的基本概念"></a>CISC和RISC的基本概念</h2><p>计算机处理器包含有实现各种功能的指令或微指令，指令集越丰富，为微处理器编写程序就越容易，但是丰富的微指令集会影响其性能</p>
<p>CISC： 复杂指令计算机。CISC包括一个丰富的微指令集，这些微指令简化了在处理器上运行的程序的创建。指令由汇编语言所组成，把一些原来由软件实现的常用的功能改用硬件的指令系统实现，编程者的工作因而减少许多，在每个指令期同时处理一些低阶的操作或运算，以提高计算机的执行速度，这种系统就被称为复杂指令系统</p>
<p>在CISC指令集的各种指令中，其使用频率却相差悬殊，大约有20%的指令会被反复使用，占整个程序代码的80%。而余下的80%的指令却不经常使用，在程序设计中只占20%</p>
<p>RISC： 精简指令集计算机。是一种执行较少类型计算机指令的微处理器，起源于80年代的MIPS主机（即RISC机），RISC机中采用的微处理器统称RISC处理器。这样一来，它能够以更快的速度执行操作（每秒执行更多百万条指令，即MIPS）</p>
<p>RISC主要特点：</p>
<p>指令数量相对少，寻址方式相对少<br>指令格式相对少，指令为等长指令，适合进行流水线操作<br>读取存储器使用LOAD指令，写存储器使用STORE指令<br>CPU内部的寄存器相对多，用于暂存数据。所有操作在寄存器进行，大大减少访问存储器操作<br>控制器的设计采用硬件布线<br>RISC和CISC各有优势，而且界限并不那么明显。现代的CPU往往采用CISC的外围，内部加入了RISC的特性，如超长指令集CPU就是融合了RISC和CISC的优势，成为未来的CPU发展方向之一<br>————————————————</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">KuangKuangKuang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2021/10/26/指令/">http://example.com/2021/10/26/指令/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2021/11/05/%E8%AE%A1%E7%BB%84%E5%AE%9E%E9%AA%8C%E4%B9%8B%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8/"><i class="fa fa-chevron-left">  </i><span>计组实验之微程序控制器</span></a></div><div class="next-post pull-right"><a href="/2021/10/17/lucky2021%E9%83%A8%E7%BD%B2/"><span>lucky2021部署</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://pic2.zhimg.com/80/v2-e0bf3baafde0f5ecac8aba0044cb967f_1440w.jpg?source=1940ef5c)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2021 By KuangKuangKuang</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="icp"><a><span></span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>